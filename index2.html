<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Indigo Events App</title>
  <link rel="stylesheet" href="styles.css">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet">

</head>

<body>
  <main>
    <div class="container marketing">

  <!-- Three columns of text below the carousel -->
      <div id="event-list" class="row">
        <div class="d-flex justify-content-center">
          <div class="spinner-border" role="status">
          </div>
        </div>
      </div>
    </div>

  </main>
  </body>

  <script src="js\jquery-3.6.0.min.js"></script>
  <script src="js\bootstrap.bundle.min.js"></script>



  <script>
    $.get("rest/events", function(data){

      $("#event-list").html("");

      var html = "";
      for(let i = 0; i < data.length; i++){
        html += `
        <div class="cardd-content">
        <div class="cardd">
            <div class="cardd-image"> <img src="https://www.novilist.hr/wp-content/uploads/2021/06/Jala-Brat-i-Buba-Corelli.jpg" alt="" srcset=""> </div>
            <div class="cardd-info">
                <h3>`+ data[i].name +`</h3>
                <p>`+ data[i].description +`</p>
            </div>
        </div>
        `;
      }
      
        // <div class="col-lg-4">
        //   <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
        //   <h2>`+ data[i].name +`</h2>
        //   <p>`+ data[i].description +`</p>
        //   <p>
        //   <button type="button" class="btn btn-primary" onclick="showModal(`+data[i].id+`)">
        //     Launch demo modal
        //   </button></p>
        // </div>
      $("#event-list").html(html);
      console.log(data);

      // columns: [                                  //columns descriptor: used to read objects from the data source based on column names
      // {"data":"id",
      //   "render": function(data, type, row, meta){
      //     return '<div style="min-width: 60px;"><span class="badge">'+data+'</span><a class="pull-right" style="font-size: 15px; cursor: pointer;" onClick="Items.pre_edit('+data+')"><i clas="fa fa-edit"></i></a> </div>';
      //   }
      // },
      // {"data":"name" },
      // {"data":"status" },
      // {"data":"city" },
      // {"data":"address" },
      // {"data":"date_held"},
    /*  {"data":"image_src",
      "render": function ( data, type, row, meta ) {
        return '<img src="'+data+'" alt="Item image" height="500" width="500"/>';
        }
      },*/
      //   {"data":"num_of_tickets" },
      //   {"data":"description" },
      //   {"data":"company_name" }
      // ]
    });

    function showModal(id){
      $.get('rest/event/'+id, function(data){
        console.log(data);
      //  $("#exampleModal .modal-body").html(id);
      $("#name").val(data.name);
        $("#exampleModal").modal("show");
      });
    }

    function makeReservation(){
      alert("Reservation created.");
    }
  </script>


  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <input id="name" type="text"/>
          <input id="id" type="text"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" onclick="makeReservation()">Make reservation</button>
        </div>
      </div>
    </div>
  </div>

</html>
