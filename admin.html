<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indigo Events</title>
    <link rel="stylesheet" href="styles.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">



        

     
       
     
    <a class="btn btn-dark my-2" data-toggle="collapse" href="#add-event-collapse" role="button" aria-expanded="false" aria-controls="add-event-collapse" id="collapse-trigger">
        Click here to add new event!
    </a>
    <div class="collapse" id="add-event-collapse">
        <form id="add-event-form">
            <div class="row">
              <div class="col">
                <input type="text" name="name" class="form-control" placeholder="Name of the event">
              </div>
              <div class="col">
                <input type="text" name="status" class="form-control" placeholder="Status">
              </div>
            </div>
            <div class="row">
                <div class="col">
                <input type="text" name="city" class="form-control" placeholder="City">
                </div>
                <div class="col">
                <input type="text" name="address" class="form-control" placeholder="Address">
                </div>
            </div>
            <div class="row">
                <div class="col">
                <input type="text" name="date_held" class="form-control" placeholder="Date">
                </div>
                <div class="col">
                <input type="text" name="num_of_tickets" class="form-control" placeholder="Number of tickets">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text" name="description" class="form-control" placeholder="Description">
                </div>
                <div class="col">
                    <input type="text" name="type_name" class="form-control" placeholder="Type Name">
                </div>
                <div class="col">
                    <input type="text" name="company_name" class="form-control" placeholder="Complany Name">
                </div>
            </div>
            <div class="float-right my-3">
                <button type="reset" class="btn btn-secondary mr-1">Clear</button>
                <button id="add-event-button" class="btn btn-success ml-2">Add Car</button>
            </div>
        </form>
      
            
    <script>
         $("#collapse-trigger").click(function (e) { 
         e.preventDefault();
         $("#add-event-collapse").collapse('toggle');
      });

      $("#add-event-form").validate({
         rules: {
           name: "required",
           status: "required",
           city: "required",
           address: "required",
           date_held: "required",
           num_of_tickets: "required",
           description: "required",
           type_name: "required",        
           company_name: "required",        
         },
         submitHandler: function(form, event) {
            event.preventDefault();
            const Event = Utility.jsonizeForm("#add-event-form");
            console.log(Event)
            $('#overlay').fadeIn();
            addEvent(Event);
         }
      });
      function addEvent (Event) {
      RestClient.post("rest/admin/add/event", Event, function (data) {
         toastr.success("New event has been added!");
         $("#add-event-form").trigger("reset");
         $('#overlay').fadeOut();
      })
   }
    </script>










</body>
</html>